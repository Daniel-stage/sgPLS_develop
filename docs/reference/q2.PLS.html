<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PLS function performance assessment using Q2 indicator. — q2.PLS • sgPLSdevelop</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="PLS function performance assessment using Q2 indicator. — q2.PLS"><meta name="description" content="The q2.PLS function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components."><meta property="og:description" content="The q2.PLS function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sgPLSdevelop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-performance" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Performance</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-performance"><li><a class="dropdown-item" href="../articles/PLS_perf.html">PLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_perf.html">PLSDA performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_perf.html">Sparse PLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_perf.html">Group PLS performance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-theory-for-sgpls-methods" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Theory for sgPLS methods</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-theory-for-sgpls-methods"><li><a class="dropdown-item" href="../articles/PLS_method.html">PLS method</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_method.html">PLSDA method</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_method.html">sPLS method</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_method.html">gPLS method</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>PLS function performance assessment using Q2 indicator.</h1>

      <div class="d-none name"><code>q2.PLS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>q2.PLS</code> function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">q2.PLS</span><span class="op">(</span><span class="va">object</span>, ncomp <span class="op">=</span> <span class="va">object</span><span class="op">$</span><span class="va">ncomp</span>, mode <span class="op">=</span> <span class="st">"regression"</span>, plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object of class inheriting from <code>"pls"</code>.</p></dd>

  <dt id="arg-ncomp">ncomp<a class="anchor" aria-label="anchor" href="#arg-ncomp"></a></dt>
<dd><p>The number of components desired for q2 computing (no more than the number of components computed in the model).</p></dd>

  <dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character string. What type of algorithm to use, (partially) matching one of "regression" or "canonical".</p></dd>

  <dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Boolean indicating if a plot must be output or not</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A suggestion about the number of components selection is also given by Q2 criterion.
Endly, other indicators are given such as PRESS and RSS for each number of components
and such as \(PRESSj\) and \(RSSj\) (matrices) for a given number of components and for a given column of Y dataset.</p>
<p>If <code>plot = TRUE</code>, the plot displays a curve of the Q2 values.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>\(PRESSj\) and \(RSSj\) are matrices of size \(ncomp\) x \(q\).
The row sums of \(PRESSj\) and \(RSSj\) give respectively PRESS and RSS.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>K.-A. Le Cao, Zoe Welham, <em>Multivariate data integration using R</em> (pages 172 to 174), MixOmics</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="PLS.html">PLS</a>, <a href="perf.html">perf.PLS</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://daniel-stage.github.io/sgPLS_develop/" class="external-link">sgPLSdevelop</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="data.create.html">data.create</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, p <span class="op">=</span> <span class="fl">10</span>, q <span class="op">=</span> <span class="fl">2</span>, list <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">X</span></span></span>
<span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">Y</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ncomp.max</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="PLS.html">PLS</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, Y <span class="op">=</span> <span class="va">Y</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span>, mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span> <span class="op">&lt;-</span> <span class="fu">q2.PLS</span><span class="op">(</span><span class="va">model</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span>, mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">q2.res</span><span class="op">$</span><span class="va">h.best</span></span></span>
<span class="r-in"><span><span class="fu">q2.PLS</span><span class="op">(</span><span class="va">model</span>, ncomp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">h.best</span><span class="op">+</span><span class="fl">1</span>, <span class="va">ncomp.max</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">q2</span></span></span>
<span class="r-plt img"><img src="q2.PLS-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Comp1      Comp2      Comp3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.3813142  0.8225561 -0.3072136 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># q2 values</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">q2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Comp1       Comp2       Comp3       Comp4       Comp5       Comp6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3813142   0.8225561  -0.3072136  -1.1401404  -8.3654098 -19.1996578 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Comp7       Comp8       Comp9      Comp10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -43.6594997 -62.8775137 -82.0921727 -94.7673627 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PRESS values</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">PRESS</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Comp1     Comp2     Comp3     Comp4     Comp5     Comp6     Comp7     Comp8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60.631212  8.530121  7.829380  5.697112  5.933369  6.093824  7.064307  8.059962 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Comp9    Comp10 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9.046045 10.055691 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># RSS values</span></span></span>
<span class="r-in"><span><span class="co">#q2.res$RSS</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PRESS values by column</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">PRESSj</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Y1        Y2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp1  10.033667 50.597545</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp2   3.007599  5.522522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp3   1.756796  6.072584</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp4   2.192980  3.504133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp5   2.687476  3.245893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp6   3.030863  3.062960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp7   3.509389  3.554918</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp8   4.086703  3.973259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp9   4.704303  4.341742</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Comp10  5.351292  4.704399</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># RSS values by column</span></span></span>
<span class="r-in"><span><span class="co">#q2.res$RSSj</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benoit Liquet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

