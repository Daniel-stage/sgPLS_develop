<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PLS function performance assessment using Q2 indicator. — q2.PLS_doc • sgPLS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="PLS function performance assessment using Q2 indicator. — q2.PLS_doc"><meta name="description" content="The q2.PLS function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components."><meta property="og:description" content="The q2.PLS function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sgPLS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-performance" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Performance</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-performance"><li><a class="dropdown-item" href="../articles/PLS_performance.html">PLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_performance.html">PLS-DA performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_performance.html">sPLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLSDA_performance.html">sPLS-DA performance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-theory-for-sgpls-methods" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Theory for sgPLS methods</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-theory-for-sgpls-methods"><li><a class="dropdown-item" href="../articles/PLS_method.html">PLS method</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_method.html">PLS-DA method</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_method.html">sPLS method</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_method.html">gPLS method</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Archives</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>PLS function performance assessment using Q2 indicator.</h1>

      <div class="d-none name"><code>q2.PLS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>q2.PLS</code> function allows to assess PLS models using \(Q2\) criterion.
This function returns a list including \(Q2\) values for each number of components.
A plot allows to visualize the model performance according to the number of components.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">q2.PLS</span><span class="op">(</span><span class="va">object</span>, ncomp <span class="op">=</span> <span class="va">object</span><span class="op">$</span><span class="va">ncomp</span>, mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object of class inheriting from <code>"pls"</code>.</p></dd>

  <dt id="arg-ncomp">ncomp<a class="anchor" aria-label="anchor" href="#arg-ncomp"></a></dt>
<dd><p>The number of components desired for q2 computing (no more than the number of components computed in the model).</p></dd>

  <dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character string. What type of algorithm to use, (partially) matching one of "regression" or "canonical".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A suggestion about the number of components selection is also given by Q2 criterion.
Endly, other indicators are given such as PRESS and RSS for each number of components
and such as \(PRESSj\) and \(RSSj\) (matrices) for a given number of components and for a given column of Y dataset.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>\(PRESSj\) and \(RSSj\) are matrices of size \(ncomp\) x \(q\).
The row sums of \(PRESSj\) and \(RSSj\) give respectively PRESS and RSS.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>K.-A. Le Cao, Zoe Welham, <em>Multivariate data integration using R</em> (pages 172 to 174), MixOmics</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="PLS.html">PLS</a>, <a href="perf.html">perf.PLS</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">sgPLSdevelop</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="data.create.html">data.create</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, p <span class="op">=</span> <span class="fl">10</span>, q <span class="op">=</span> <span class="fl">2</span>, list <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">X</span></span></span>
<span class="r-in"><span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">Y</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ncomp.max</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="PLS.html">PLS</a></span><span class="op">(</span>X <span class="op">=</span> <span class="va">X</span>, Y <span class="op">=</span> <span class="va">Y</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span>, mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span> <span class="op">&lt;-</span> <span class="fu">q2.PLS</span><span class="op">(</span><span class="va">model</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span>, mode <span class="op">=</span> <span class="st">"regression"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">q2.res</span><span class="op">$</span><span class="va">h.best</span></span></span>
<span class="r-in"><span><span class="fu">q2.PLS</span><span class="op">(</span><span class="va">model</span>, ncomp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">h.best</span><span class="op">+</span><span class="fl">1</span>, <span class="va">ncomp.max</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">q2</span></span></span>
<span class="r-plt img"><img src="q2.PLS-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  0.5991091  0.6717849 -0.1313998</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># q2 values</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">q2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]   0.5991091   0.6717849  -0.1313998  -0.7011579  -4.4219535 -12.3546642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -31.5921060 -39.3521016 -44.3679320 -52.3112505</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PRESS values</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">PRESS</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 39.287310 10.888879  6.471984  5.736846  6.598945  7.143261  8.134252</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  9.127399 10.128897 11.856188</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># RSS values</span></span></span>
<span class="r-in"><span><span class="co">#q2.res$RSS</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># PRESS values by column</span></span></span>
<span class="r-in"><span><span class="va">q2.res</span><span class="op">$</span><span class="va">PRESSj</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Y1        Y2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 22.109356 17.177955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]  6.783288  4.105590</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]  3.893774  2.578209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]  4.248296  1.488550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]  4.939311  1.659634</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]  5.362923  1.780339</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]  6.092753  2.041499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]  6.749920  2.377480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]  7.392741  2.736156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]  8.587569  3.268619</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># RSS values by column</span></span></span>
<span class="r-in"><span><span class="co">#q2.res$RSSj</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benoit Liquet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

