<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>sPLS performance • sgPLSdevelop</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="sPLS performance"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sgPLSdevelop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-performance" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Performance</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-performance"><li><a class="dropdown-item" href="../articles/PLS_performance.html">PLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_perf.html">PLSDA performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_perf.html">sPLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_perf.html">gPLS performance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-theory-for-sgpls-methods" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Theory for sgPLS methods</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-theory-for-sgpls-methods"><li><a class="dropdown-item" href="../articles/PLS_method.html">PLS method</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_method.html">PLSDA method</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_method.html">sPLS method</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_method.html">gPLS method</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>sPLS performance</h1>
            
            <h4 data-toc-skip class="date">2025-07-30</h4>
      

      <div class="d-none name"><code>sPLS_perf.Rmd</code></div>
    </div>

    
    
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This page presents an application of the sPLS performance assessment.
The sPLS method is a quite particular method : there are several
predictions according to the components number selected in the model.
The goal is almost to choose the best number of component in sPLS
regression in order to compute the best possible predictions but also to
select the best number of variables. For that, we will use three
datasets:</p>
<ul>
<li><p>one is a dataset with only one response variable
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.</p></li>
<li><p>the other is a dataset with four response variables
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mn>1</mn><mo>,</mo><mi>Y</mi><mn>2</mn><mo>,</mo><mi>Y</mi><mn>3</mn><mo>,</mo><mi>Y</mi><mn>4</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Y = (Y1,Y2,Y3,Y4)</annotation></semantics></math>.</p></li>
<li><p>the last dataset contains real data about NIR spectra.</p></li>
</ul>
<p>To access to predefined functions from sgPLSdevelop package and
manipulate these datasets, run these lines:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(sgPLSdevelop)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(pls)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>data1 <span class="ot">&lt;-</span> <span class="fu">data.create</span>(<span class="at">p =</span> <span class="dv">10</span>, <span class="at">list =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>data2 <span class="ot">&lt;-</span> <span class="fu">data.create</span>(<span class="at">p =</span> <span class="dv">10</span>, <span class="at">q =</span> <span class="dv">4</span>, <span class="at">list =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">data</span>(yarn)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>data3 <span class="ot">&lt;-</span> yarn</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>ncomp.max <span class="ot">&lt;-</span> <span class="dv">8</span></span></code></pre></div>
<pre><code>## [1] &quot;First dataset dimensions : 40 x 11&quot;</code></pre>
<pre><code>## [1] &quot;Second dataset dimensions : 40 x 14&quot;</code></pre>
<pre><code>## [1] &quot;Yarn dataset dimensions : 28 x 269&quot;</code></pre>
<p>For the two first datasets, the population is set to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>40</mn></mrow><annotation encoding="application/x-tex">n = 40</annotation></semantics></math>
by default, which is close to actual conditions. Let’s also notice that,
on average, the response
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
is a linear combination from the predictors
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>.
Indeed, the function includes a matrix product
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mi>X</mi><mi>B</mi><mo>+</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">Y = XB + E</annotation></semantics></math>
with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>B</mi><annotation encoding="application/x-tex">B</annotation></semantics></math>
the weight matrix and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math>
matrix the gaussian noise. This linearity condition is important in
order to have a good performance of the model, the PLS method using
linearity combinaison.</p>
<p>Now, it’s time to train a PLS model for each dataset built or
imported.</p>
</div>
<div id="spls-performance-assessment-using-msep" class="section level1">
<h1>sPLS performance assessment using MSEP</h1>
<p>An good way to assess such a model performance consists by using
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">MSEP</annotation></semantics></math>
criterion.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">MSEP</annotation></semantics></math>
is computed as follow :</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mi>P</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mi>q</mi></mrow></mfrac><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>q</mi></msubsup><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>−</mo><msub><mover><mi>Y</mi><mo accent="true">̂</mo></mover><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">MSEP = \frac{1}{nq} \sum_{i=1}^{n} \sum_{j=1}^{q} (Y_{i,j} - \hat{Y}_{i,j})^2</annotation></semantics></math></p>
<p>The function named <code>tuning.sPLS.XY</code> will allow to assess
the performance and to choose the best parameters. This function outputs
the best tuning parameters but also two MSEP plots : the one shows the
MSEP according to the number of components and the other shows the MSEP
according to the number of selected variables in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.
Particularly, in multivariate sPLS
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">q&gt;1</annotation></semantics></math>),
the “plot” is a table of MSEP values.</p>
<p>Once the best tuning parameters obtained, it is interesting to
display the population projected on the best components : a scatterplot
will be used. The component used for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
axe will be the <code>h.best</code> given by
<code>tuning.sPLS.XY</code>. The component used for the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>
axe will be the second best component named <code>h.best2</code>
respecting the condition <code>h.best2</code>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>&lt;</mo><annotation encoding="application/x-tex">&lt;</annotation></semantics></math>
<code>h.best</code> to make sure the <code>plot.indiv</code> function
work (the sPLS model is built with <code>h.best</code>components.</p>
</div>
<div id="first-model-msep" class="section level1">
<h1>First model MSEP</h1>
<div id="msep-for-tuning-parameters" class="section level2">
<h2>MSEP for tuning parameters</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># First model</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>X <span class="ot">&lt;-</span> data1<span class="sc">$</span>X</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>Y <span class="ot">&lt;-</span> data1<span class="sc">$</span>Y</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co"># tuning</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>perf.res1 <span class="ot">&lt;-</span> <span class="fu">tuning.sPLS.XY</span>(X,Y,<span class="at">ncomp =</span> ncomp.max)</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-2-1.png" width="700" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>msep.h <span class="ot">&lt;-</span> perf.res1<span class="sc">$</span>MSEP.h</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>h.best <span class="ot">&lt;-</span> perf.res1<span class="sc">$</span>h.best</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>h.best2 <span class="ot">&lt;-</span> <span class="fu">which.min</span>(msep.h[<span class="dv">1</span><span class="sc">:</span>(h.best<span class="dv">-1</span>)]) <span class="co"># h.best2 &lt; h.best</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>keepX.best <span class="ot">&lt;-</span> perf.res1<span class="sc">$</span>keepX.best</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>keepY.best <span class="ot">&lt;-</span> perf.res1<span class="sc">$</span>keepY.best</span></code></pre></div>
<p>The <code>perf.sPLS</code> gives us a optimal components number equal
to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
8, therefore we suggest to select 8 components in our first model. It
indicates us also to select 3 variables for each component.</p>
</div>
<div id="population-dispersion" class="section level2">
<h2>Population dispersion</h2>
<p>Let’s take a look at the population projected on the best
components.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">sPLS</span>(X,Y,<span class="at">ncomp =</span> h.best, <span class="at">keepX =</span> keepX.best)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>pop.model1 <span class="ot">&lt;-</span> <span class="fu">plot.indiv</span>(model1, <span class="at">compX =</span> <span class="fu">c</span>(h.best, h.best2))</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>pop.model1<span class="sc">$</span>graphX</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-3-1.png" width="700" /></p>
</div>
</div>
<div id="second-model-msep" class="section level1">
<h1>Second model MSEP</h1>
<div id="msep-for-tuning-parameters-1" class="section level2">
<h2>MSEP for tuning parameters</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># second model</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>X <span class="ot">&lt;-</span> data2<span class="sc">$</span>X</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>Y <span class="ot">&lt;-</span> data2<span class="sc">$</span>Y</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co"># tuning</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>perf.res2 <span class="ot">&lt;-</span> <span class="fu">tuning.sPLS.XY</span>(X,Y,<span class="at">ncomp =</span> ncomp.max)</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-4-1.png" width="700" /></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>msep.h <span class="ot">&lt;-</span> perf.res2<span class="sc">$</span>MSEP.h</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>h.best <span class="ot">&lt;-</span> perf.res2<span class="sc">$</span>h.best</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>h.best2 <span class="ot">&lt;-</span> <span class="fu">which.min</span>(msep.h[<span class="dv">1</span><span class="sc">:</span>(h.best<span class="dv">-1</span>)]) <span class="co"># h.best2 &lt; h.best</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>keepX.best <span class="ot">&lt;-</span> perf.res2<span class="sc">$</span>keepX.best</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>keepY.best <span class="ot">&lt;-</span> perf.res2<span class="sc">$</span>keepY.best</span></code></pre></div>
<p>The <code>perf.sPLS</code> gives us a optimal components number equal
to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
8, therefore we suggest to select 8 components in our second model. It
indicates us also to select 9 variables in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
and 3 variables in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.</p>
</div>
<div id="population-dispersion-1" class="section level2">
<h2>Population dispersion</h2>
<p>Let’s take a look at the population projected on the best
components.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">sPLS</span>(X,Y,<span class="at">ncomp =</span> h.best, <span class="at">keepX =</span> keepX.best, <span class="at">keepY =</span> keepY.best)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>pop.model2 <span class="ot">&lt;-</span> <span class="fu">plot.indiv</span>(model2, <span class="at">compX =</span> <span class="fu">c</span>(h.best, h.best2), <span class="at">compY =</span> <span class="fu">c</span>(h.best, h.best2))</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>pop.model2<span class="sc">$</span>graphX</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-5-1.png" width="700" /></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>pop.model2<span class="sc">$</span>graphY</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-5-2.png" width="700" /></p>
</div>
</div>
<div id="third-model-msep" class="section level1">
<h1>Third model MSEP</h1>
<div id="msep-for-tuning-parameters-2" class="section level2">
<h2>MSEP for tuning parameters</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Third model</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>X <span class="ot">&lt;-</span> data3<span class="sc">$</span>NIR</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>Y <span class="ot">&lt;-</span> data3<span class="sc">$</span>density</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(Y)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="co"># tuning</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>perf.res3 <span class="ot">&lt;-</span> <span class="fu">tuning.sPLS.XY</span>(X,Y,<span class="at">ncomp =</span> ncomp.max)</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-6-1.png" width="700" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>h.best <span class="ot">&lt;-</span> perf.res3<span class="sc">$</span>h.best</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>h.best2 <span class="ot">&lt;-</span> <span class="fu">which.min</span>(msep.h[<span class="dv">1</span><span class="sc">:</span>(h.best<span class="dv">-1</span>)]) <span class="co"># h.best2 &lt; h.best</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>keepX.best <span class="ot">&lt;-</span> perf.res3<span class="sc">$</span>keepX.best</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>keepY.best <span class="ot">&lt;-</span> perf.res3<span class="sc">$</span>keepY.best</span></code></pre></div>
<p>The <code>perf.sPLS</code> gives us a optimal components number equal
to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
8, therefore we suggest to select 8 components in our third model. It
indicates us also to select 268 variables in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>X</mi><annotation encoding="application/x-tex">X</annotation></semantics></math>
and 1 variables in
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.</p>
</div>
<div id="population-dispersion-2" class="section level2">
<h2>Population dispersion</h2>
<p>Let’s take a look at the population projected on the best
components.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">sPLS</span>(X,Y,<span class="at">ncomp =</span> h.best, <span class="at">keepX =</span> keepX.best)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>pop.model3 <span class="ot">&lt;-</span> <span class="fu">plot.indiv</span>(model3, <span class="at">compX =</span> <span class="fu">c</span>(h.best, h.best2))</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>pop.model3<span class="sc">$</span>graphX</span></code></pre></div>
<p><img src="sPLS_perf_files/figure-html/unnamed-chunk-7-1.png" width="700" /></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benoit Liquet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>
