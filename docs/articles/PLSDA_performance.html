<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>PLS-DA performance • sgPLS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="PLS-DA performance">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sgPLS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-performance" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Performance</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-performance">
<li><a class="dropdown-item" href="../articles/PLS_performance.html">PLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_performance.html">PLS-DA performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_performance.html">sPLS performance</a></li>
    <li><a class="dropdown-item" href="../articles/sPLSDA_performance.html">sPLS-DA performance</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-theory-for-sgpls-methods" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Theory for sgPLS methods</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-theory-for-sgpls-methods">
<li><a class="dropdown-item" href="../articles/PLS_method.html">PLS method</a></li>
    <li><a class="dropdown-item" href="../articles/PLSDA_method.html">PLS-DA method</a></li>
    <li><a class="dropdown-item" href="../articles/sPLS_method.html">sPLS method</a></li>
    <li><a class="dropdown-item" href="../articles/gPLS_method.html">gPLS method</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Archives</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>PLS-DA performance</h1>
            
            <h4 data-toc-skip class="date">2025-08-01</h4>
      

      <div class="d-none name"><code>PLSDA_performance.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This page presents an application of the PLSDA performance
assessment. The PLS method is a quite particular method : there are
several predictions according to the number of components selected in
the model. It is the same with PLSDA. The goal is almost to choose the
best number of components in PLS regression in order to compute the best
possible predictions. For that, we will use two datasets:</p>
<ul>
<li><p>one is a dataset with only ten predictor variables
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mn>1</mn><mo>,</mo><mi>X</mi><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>X</mi><mn>10</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X = (X1,X2,...,X10)</annotation></semantics></math>
and two classes.</p></li>
<li><p>the other is a dataset with forty predictor variables
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>X</mi><mn>1</mn><mo>,</mo><mi>X</mi><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>X</mi><mn>40</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">X = (X1,X2,...,X40)</annotation></semantics></math>
and three classes. With
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>40</mn><mo>&gt;</mo><mi>n</mi><mo>=</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">p = 40 &gt; n = 30</annotation></semantics></math>,
this dataset approches realist conditions for PLS training.</p></li>
</ul>
<p>To access to predefined functions from sgPLSdevelop package and
manipulate these datasets, run these lines :</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">sgPLSdevelop</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.mixOmics.org" class="external-link">mixOmics</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data.create.html">data.cl.create</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># 2 classes by default</span></span>
<span><span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/data.create.html">data.cl.create</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">30</span>, p <span class="op">=</span> <span class="fl">40</span>, classes <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ncomp.max</span> <span class="op">&lt;-</span> <span class="fl">8</span></span>
<span></span>
<span><span class="co"># First model</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">data1</span><span class="op">$</span><span class="va">X</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">data1</span><span class="op">$</span><span class="va">Y.f</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/PLSda.html">PLSda</a></span><span class="op">(</span><span class="va">X</span>,<span class="va">Y</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span><span class="op">)</span></span>
<span><span class="va">model1.mix</span> <span class="op">&lt;-</span> <span class="fu">mixOmics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mixOmics/man/plsda.html" class="external-link">plsda</a></span><span class="op">(</span><span class="va">X</span>,<span class="va">Y</span>,ncomp <span class="op">=</span> <span class="va">ncomp.max</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Second model</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="va">data2</span><span class="op">$</span><span class="va">X</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">data2</span><span class="op">$</span><span class="va">Y.f</span></span>
<span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/PLSda.html">PLSda</a></span><span class="op">(</span><span class="va">X</span>,<span class="va">Y</span>, ncomp <span class="op">=</span> <span class="va">ncomp.max</span><span class="op">)</span></span>
<span><span class="va">model2.mix</span> <span class="op">&lt;-</span> <span class="fu">mixOmics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mixOmics/man/plsda.html" class="external-link">plsda</a></span><span class="op">(</span><span class="va">X</span>,<span class="va">Y</span>,ncomp <span class="op">=</span> <span class="va">ncomp.max</span><span class="op">)</span></span></code></pre></div>
<p>In the continuation of this article, we will show PLS-DA performance
assessment with mean error rate by using leave-one-out cross-validation
(LOOCV), 10-fold CV and 5-fold CV. The <code>perf.PLSda</code> function
will allow to compute the error rate for each application case.</p>
<p>NB : there are three possible distances for computing the error rate
:
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="italic">𝑚𝑎𝑥𝑖𝑚𝑢𝑚</mtext><annotation encoding="application/x-tex">\textit{maximum}</annotation></semantics></math>
distance,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="italic">𝑐𝑒𝑛𝑡𝑟𝑜ï𝑑𝑠</mtext><annotation encoding="application/x-tex">\textit{centroïds}</annotation></semantics></math>
distance and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="italic">𝑀𝑎h𝑎𝑙𝑎𝑛𝑜𝑏𝑖𝑠</mtext><annotation encoding="application/x-tex">\textit{Mahalanobis}</annotation></semantics></math>
distance. By default, this function uses
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="italic">𝑚𝑎𝑥𝑖𝑚𝑢𝑚</mtext><annotation encoding="application/x-tex">\textit{maximum}</annotation></semantics></math>
distance. In the most complicated cases, it is advisable to choose
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="italic">𝑀𝑎h𝑎𝑙𝑎𝑛𝑜𝑏𝑖𝑠</mtext><annotation encoding="application/x-tex">\textit{Mahalanobis}</annotation></semantics></math>
distance which gives more accurate results.</p>
</div>
<div class="section level2">
<h2 id="leave-one-out-cv">Leave-one-out CV<a class="anchor" aria-label="anchor" href="#leave-one-out-cv"></a>
</h2>
<p>The Leave-one-out CV (LOOCV) builts
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
models with a test set composed of only a single row (never the same row
for each model).</p>
<div class="section level4">
<h4 id="first-model">First model<a class="anchor" aria-label="anchor" href="#first-model"></a>
</h4>
<p>Let’s start with the first model.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model1</span>, validation <span class="op">=</span> <span class="st">"loo"</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-2-1.png" alt="Error rate of the first model by LOOCV" width="700"><p class="caption">
Error rate of the first model by LOOCV
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res1</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1, therefore we suggest to select 1 component(s) in our first model.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res1</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#perf &lt;- perf(model1.mix, validation = "loo", dist = "max.dist")</span></span>
<span><span class="co">#err2 &lt;- round(perf$error.rate$overall[1],3)</span></span>
<span><span class="co">#data.frame(err,err2)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="second-model">Second model<a class="anchor" aria-label="anchor" href="#second-model"></a>
</h4>
<p>Let’s continue with the second model.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model2</span>, validation <span class="op">=</span> <span class="st">"loo"</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-4-1.png" alt="Error rate of the second model by LOOCV" width="700"><p class="caption">
Error rate of the second model by LOOCV
</p>
</div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res2</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1, therefore we suggest to select 1 component(s) in our first model.</p>
<p>The LOOCV is an efficient way to assess performance but requires a
large computing capacity. The K-fold CV (which create K blocks) reduces
not only the number of models to built but also the execution time.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res2</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">perf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf</a></span><span class="op">(</span><span class="va">model2.mix</span>, validation <span class="op">=</span> <span class="st">"loo"</span>, dist <span class="op">=</span> <span class="st">"max.dist"</span><span class="op">)</span></span>
<span><span class="va">err2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf</span><span class="op">$</span><span class="va">error.rate</span><span class="op">$</span><span class="va">overall</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">err</span>,<span class="va">err2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     err  err2</span></span>
<span><span class="co">## 1 0.267 0.267</span></span>
<span><span class="co">## 2 0.367 0.267</span></span>
<span><span class="co">## 3 0.433 0.267</span></span>
<span><span class="co">## 4 0.333 0.267</span></span>
<span><span class="co">## 5 0.333 0.267</span></span>
<span><span class="co">## 6 0.333 0.267</span></span>
<span><span class="co">## 7 0.367 0.267</span></span>
<span><span class="co">## 8 0.400 0.267</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="fold-cv">10-fold CV<a class="anchor" aria-label="anchor" href="#fold-cv"></a>
</h2>
<p>The 10-fold CV builts 10 models. In our case, for each model, the
test set is composed of 4 observations for the first model and 3 for the
second.</p>
<div class="section level4">
<h4 id="first-model-1">First model<a class="anchor" aria-label="anchor" href="#first-model-1"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model1</span>, folds <span class="op">=</span> <span class="fl">10</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-6-1.png" alt="Error rate of the first model by 10-fold CV" width="700"><p class="caption">
Error rate of the first model by 10-fold CV
</p>
</div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res1</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res1</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#perf &lt;- perf(model1.mix, validation = "Mfold", folds = 10, dist = "max.dist")</span></span>
<span><span class="co">#err2 &lt;- round(perf$error.rate$overall[1],3)</span></span>
<span><span class="co">#data.frame(err,err2)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="second-model-1">Second model<a class="anchor" aria-label="anchor" href="#second-model-1"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model2</span>, folds <span class="op">=</span> <span class="fl">10</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-8-1.png" alt="Error rate of the second model by 10-fold CV" width="700"><p class="caption">
Error rate of the second model by 10-fold CV
</p>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res2</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res2</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">perf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf</a></span><span class="op">(</span><span class="va">model2.mix</span>, validation <span class="op">=</span> <span class="st">"Mfold"</span>, folds <span class="op">=</span> <span class="fl">10</span>, dist <span class="op">=</span> <span class="st">"max.dist"</span><span class="op">)</span></span>
<span><span class="va">err2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf</span><span class="op">$</span><span class="va">error.rate</span><span class="op">$</span><span class="va">overall</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">err</span>,<span class="va">err2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     err  err2</span></span>
<span><span class="co">## 1 0.233 0.133</span></span>
<span><span class="co">## 2 0.367 0.133</span></span>
<span><span class="co">## 3 0.367 0.133</span></span>
<span><span class="co">## 4 0.333 0.133</span></span>
<span><span class="co">## 5 0.333 0.133</span></span>
<span><span class="co">## 6 0.367 0.133</span></span>
<span><span class="co">## 7 0.400 0.133</span></span>
<span><span class="co">## 8 0.400 0.133</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="fold-cv-1">5-fold CV<a class="anchor" aria-label="anchor" href="#fold-cv-1"></a>
</h2>
<p>The 5-fold CV builts 5 models. In our case, for each model, the test
set is composed of 8 observations for the first model and 6 for the
second.</p>
<div class="section level4">
<h4 id="first-model-2">First model<a class="anchor" aria-label="anchor" href="#first-model-2"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model1</span>, folds <span class="op">=</span> <span class="fl">5</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-10-1.png" alt="Error rate of the first model by 5-fold CV" width="700"><p class="caption">
Error rate of the first model by 5-fold CV
</p>
</div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res1</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res1</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#perf &lt;- perf(model1.mix, validation = "Mfold", folds = 5, dist = "max.dist")</span></span>
<span><span class="co">#err2 &lt;- round(perf$error.rate$overall[1],3)</span></span>
<span><span class="co">#data.frame(err,err2)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="second-model-2">Second model<a class="anchor" aria-label="anchor" href="#second-model-2"></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perf.res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf.PLSda</a></span><span class="op">(</span><span class="va">model1</span>, folds <span class="op">=</span> <span class="fl">5</span>, progressBar <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="PLSDA_performance_files/figure-html/unnamed-chunk-12-1.png" alt="Error rate of the second model by 5-fold CV" width="700"><p class="caption">
Error rate of the second model by 5-fold CV
</p>
</div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h.best</span> <span class="op">&lt;-</span> <span class="va">perf.res2</span><span class="op">$</span><span class="va">h.best</span></span></code></pre></div>
<p>The <code>perf.PLSda</code> function gives us a optimal number of
components equal to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">H =</annotation></semantics></math>
1.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf.res2</span><span class="op">$</span><span class="va">error.rate</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">perf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/perf.html">perf</a></span><span class="op">(</span><span class="va">model2.mix</span>, validation <span class="op">=</span> <span class="st">"Mfold"</span>, folds <span class="op">=</span> <span class="fl">5</span>, dist <span class="op">=</span> <span class="st">"max.dist"</span><span class="op">)</span></span>
<span><span class="va">err2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">perf</span><span class="op">$</span><span class="va">error.rate</span><span class="op">$</span><span class="va">overall</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">err</span>,<span class="va">err2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     err  err2</span></span>
<span><span class="co">## 1 0.050 0.133</span></span>
<span><span class="co">## 2 0.050 0.133</span></span>
<span><span class="co">## 3 0.075 0.133</span></span>
<span><span class="co">## 4 0.075 0.133</span></span>
<span><span class="co">## 5 0.050 0.133</span></span>
<span><span class="co">## 6 0.050 0.133</span></span>
<span><span class="co">## 7 0.050 0.133</span></span>
<span><span class="co">## 8 0.050 0.133</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benoit Liquet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
